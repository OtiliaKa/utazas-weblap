<%- include('partials/header', {currentPage: 'uzenetek'}) %>

<!-- Main -->
<div id="main">
    <article class="post">
        <header class="major">
            <h1>Üzenetek</h1>
            <p>Küldjön üzenetet nekünk vagy tekintse meg elküldött üzeneteit!</p>
        </header>
        <body>

        <form action="/uzenetek" method="POST" style="display: flex; flex-direction: column; align-items: center;">
            <input type="text" name="content" placeholder="Üzenjen nekünk" required style="height: 600px; max-width: 1000px;">
            <button type="submit" style="margin: 50px">Küldés</button>
        </form>

        <% if (typeof error !== 'undefined' && error) { %>
            <p style="color: red;"><%= error %></p>
        <% } %>

        <section>
            <h3>Elküldött üzenetek</h3>
            <% if (messages && messages.length > 0) { %>
                <ul>
                    <% messages.forEach(message => { %>
                        <li>
                            <% if (user.szerepkor === 'admin' && message.user_nev) { %>
                                <strong><%= message.user_nev %></strong>:
                            <% } %>
                            <%= message.content %></br>
                            <%= message.date %>

                        </li>
                    <% }); %>
                </ul>
            <% } else { %>
                <p>Még nem küldött üzenetet.</p>
            <% } %>
        </section>

        </body>


    </article>
</div>

<%- include('partials/footer') %>